<!DOCTYPE html>
<html>
<head>
    <title>Boards</title>
    <link rel="stylesheet" type="text/css" href="css/default_boards.css" id="wc-stylesheet" />
</head>
<body>
    <div id="thread-content"></div>

    <script>
        // Funktion zur Überprüfung des Dunkelmodus und Anpassung der CSS-Klasse
        function adjustStylesForDarkMode() {
            // Überprüfe, ob die prefers-color-scheme Media Query den Dunkelmodus bevorzugt
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                // Das System läuft im Dunkelmodus, ändere die Eigenschaften von input.replybutton
                var stylesheet = document.getElementById('wc-stylesheet');
                if (stylesheet.href.includes('default_boards.css')) {
                    // Ändere die Eigenschaften der CSS-Klasse
                    var styleSheetContent = stylesheet.sheet;
                    for (var i = 0; i < styleSheetContent.cssRules.length; i++) {
                        var rule = styleSheetContent.cssRules[i];
                        if (rule.selectorText === 'input.replybutton') {
                            // Passe die Hintergrundgrafik an
                            rule.style.backgroundImage = 'url("../img/reply_dark.svg")';
                        }
                        if (rule.selectorText === 'input.quotebutton') {
                            // Passe die Hintergrundgrafik an
                            rule.style.backgroundImage = 'url("../img/quote_dark.svg")';
                        }
                        if (rule.selectorText === 'input.editbutton') {
                            // Passe die Hintergrundgrafik an
                            rule.style.backgroundImage = 'url("../img/edit_dark.svg")';
                        }
                        if (rule.selectorText === 'input.deletebutton') {
                            // Passe die Hintergrundgrafik an
                            rule.style.backgroundImage = 'url("../img/delete_dark.svg")';
                        }
                    }
                }
            }
        }

        // Überprüfe den Dunkelmodus beim Laden der Seite
        adjustStylesForDarkMode();

        // Füge einen Event-Listener hinzu, um Änderungen im Dunkelmodus zu überwachen
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            if (e.matches) {
                // Das System wechselt in den Dunkelmodus
                adjustStylesForDarkMode();
            } else {
                // Das System wechselt in den Lichtmodus
                var stylesheet = document.getElementById('wc-stylesheet');
                if (stylesheet.href.includes('default_boards.css')) {
                    // Setze die Eigenschaften der CSS-Klasse zurück
                    var styleSheetContent = stylesheet.sheet;
                    for (var i = 0; i < styleSheetContent.cssRules.length; i++) {
                        var rule = styleSheetContent.cssRules[i];
                        if (rule.selectorText === 'input.replybutton') {
                            // Setze die Hintergrundgrafik zurück
                            rule.style.backgroundImage = 'url("../img/reply.svg")';
                        }
                        if (rule.selectorText === 'input.quotebutton') {
                            // Setze die Hintergrundgrafik zurück
                            rule.style.backgroundImage = 'url("../img/quote.svg")';
                        }
                        if (rule.selectorText === 'input.editbutton') {
                            // Setze die Hintergrundgrafik zurück
                            rule.style.backgroundImage = 'url("../img/edit.svg")';
                        }
                        if (rule.selectorText === 'input.deletebutton') {
                            // Setze die Hintergrundgrafik zurück
                            rule.style.backgroundImage = 'url("../img/delete.svg")';
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
